{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pferr\\\\TrabajoPracticoPeluqueria\\\\CRUDFrontend\\\\client\\\\src\\\\pages\\\\turno\\\\Turno.page.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport { API_URL } from '../../auth/constants.ts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction TurnosPage() {\n  _s();\n  const [turnos, setTurnos] = useState([]);\n  const [fecha_hora, setFecha_hora] = useState('');\n  const [tipo_turno, setTipo_turno] = useState('');\n  const [/*porcentaje*/, setPorcentaje] = useState('');\n  const [estado, setEstado] = useState('');\n  const [codigo_cliente, setCodigo_cliente] = useState('');\n  const [codigo_peluquero, setCodigo_peluquero] = useState('');\n  const [turnoMostrado, setTurnoMostrado] = useState(null);\n  const [error, setError] = useState('');\n  const [errors, setErrors] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [turnoSeleccionado, setTurnoSeleccionado] = useState(null);\n  const [editar, setEditar] = useState(false);\n  const [alerta, setAlerta] = useState({\n    tipo: '',\n    mensaje: ''\n  });\n  const estados = ['Cancelado', 'Activo', 'Sancionado', 'Atendido'];\n  const accessToken = localStorage.getItem('accessToken');\n  useEffect(() => {\n    const fetchTurnos = async () => {\n      setLoading(true);\n      try {\n        const response = await axios.get(`${API_URL}/turnos`, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": `Bearer ${accessToken}`\n          }\n        });\n        const turnos = response.data.data || [];\n        console.log('Turnos traidos del backend:', response, turnos);\n        setTurnos(turnos);\n      } catch (error) {\n        var _error$response, _error$response$data;\n        setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message);\n      } finally {\n        setLoading(false);\n      }\n      ;\n    };\n    fetchTurnos();\n  }, [accessToken]);\n  const formatFechaParaInput = fechaISO => {\n    const fecha = new Date(fechaISO);\n    const anio = fecha.getFullYear();\n    const mes = String(fecha.getMonth() + 1).padStart(2, '0'); // Los meses son 0-indexed\n    const dia = String(fecha.getDate()).padStart(2, '0'); // Asegura que el día tenga dos dígitos\n    const horas = String(fecha.getHours()).padStart(2, '0'); // Asegura que las horas tengan dos dígitos\n    const minutos = String(fecha.getMinutes()).padStart(2, '0'); // Asegura que los minutos tengan dos dígitos\n    return `${anio}-${mes}-${dia}T${horas}:${minutos}`; // Retorna en formato aaaa-mm-dd T hh:mm\n  };\n  const estadoColor = estado => {\n    switch (estado) {\n      case 'Cancelado':\n        return 'warning';\n      case 'Activo':\n        return 'primary';\n      case 'Sancionado':\n        return 'danger';\n      case 'Atendido':\n        return 'success';\n      default:\n        return 'secondary';\n    }\n    ;\n  };\n  useEffect(() => {\n    if (turnoSeleccionado) {\n      var _turnoSeleccionado$cl, _turnoSeleccionado$pe;\n      setFecha_hora(turnoSeleccionado.fecha_hora ? formatFechaParaInput(turnoSeleccionado.fecha_hora) : '');\n      setTipo_turno(turnoSeleccionado.tipo_turno || '');\n      setPorcentaje(turnoSeleccionado.porcentaje || '');\n      setEstado(turnoSeleccionado.estado || '');\n      setCodigo_cliente(String((_turnoSeleccionado$cl = turnoSeleccionado.cliente) === null || _turnoSeleccionado$cl === void 0 ? void 0 : _turnoSeleccionado$cl.codigo_cliente) || '');\n      setCodigo_peluquero(String((_turnoSeleccionado$pe = turnoSeleccionado.peluquero) === null || _turnoSeleccionado$pe === void 0 ? void 0 : _turnoSeleccionado$pe.codigo_peluquero) || '');\n    }\n    ;\n  }, [turnoSeleccionado]);\n  const getTurnos = async () => {\n    try {\n      const response = await axios.get(`${API_URL}/turnos`, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Authorization\": `Bearer ${accessToken}`\n        }\n      });\n      const turnos = response.data.data;\n      if (Array.isArray(turnos)) {\n        setTurnos(turnos);\n      }\n      ;\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error('Error al obtener los turnos:', error);\n      setError(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.data) || error.mensaje);\n      setTurnos([]);\n    }\n    ;\n  };\n  const validateForm = () => {\n    const errors = {};\n    const today = new Date().toISOString().split('T')[0];\n    if (!fecha_hora) {\n      errors.fecha_hora = \"La fecha es obligatoria.\";\n    } else if (fecha_hora < today) {\n      errors.fecha_hora = \"La fecha no puede ser menor a la de hoy\";\n    }\n    ;\n    if (!tipo_turno) {\n      errors.tipo_turno = \"El tipo es obligatorio.\";\n    } else if (tipo_turno !== \"Sucursal\" && tipo_turno !== \"A Domicilio\") {\n      errors.tipo_turno = \"Seleccione un tipo de turno.\";\n    }\n    ;\n    if (!estado) {\n      errors.estado = \"El estado es obligatorio.\";\n    } else if (estado !== \"Activo\" && estado !== \"Cancelado\" && estado !== \"Sancionado\") {\n      errors.estado = \"Seleccione un estado.\";\n    }\n    ;\n    if (!codigo_cliente) {\n      errors.codigo_cliente = \"El codigo de cliente es obligatorio.\";\n    }\n    ;\n    if (!codigo_peluquero) {\n      errors.codigo_peluquero = \"El codigo de peluquero es obligatorio.\";\n    }\n    ;\n    return errors;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const validationErrors = validateForm();\n    if (Object.keys(validationErrors).length > 0) {\n      setErrors(validationErrors);\n      return;\n    }\n    ;\n    const formattedDate = new Date(fecha_hora).toISOString();\n    const payload = {\n      fecha_hora: formattedDate,\n      tipo_turno: tipo_turno,\n      estado: estado,\n      codigo_cliente: Number(codigo_cliente),\n      codigo_peluquero: Number(codigo_peluquero)\n    };\n    try {\n      if (editar && turnoSeleccionado) {\n        await axios.put(`${API_URL}/turnos/${turnoSeleccionado.codigo_turno}`, payload, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": `Bearer ${accessToken}`\n          }\n        });\n        Swal.fire({\n          position: 'center',\n          icon: 'success',\n          title: 'Actualización exitosa',\n          showConfirmButton: false,\n          timer: 1500\n        });\n      } else {\n        await axios.post(`${API_URL}/turnos`, payload, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": `Bearer ${accessToken}`\n          }\n        });\n        Swal.fire({\n          position: 'center',\n          icon: 'success',\n          title: 'Turno registrado',\n          showConfirmButton: false,\n          timer: 1500\n        });\n      }\n      ;\n      await getTurnos();\n      resetForm();\n    } catch (error) {\n      console.error('Error al guardar el turno:', error);\n      if (error.response && error.response.data && error.response.data.message) {\n        Swal.fire({\n          icon: 'error',\n          title: 'Error',\n          text: error.response.data.message,\n          confirmButtonText: 'Aceptar',\n          position: 'center'\n        });\n      } else {\n        Swal.fire({\n          icon: 'error',\n          title: 'Error',\n          text: 'Hubo un problema al guardar el turno.',\n          confirmButtonText: 'Aceptar',\n          position: 'center'\n        });\n      }\n      ;\n    }\n    ;\n  };\n  const resetForm = () => {\n    setFecha_hora(\"\");\n    setTipo_turno(\"\");\n    setPorcentaje(\"\");\n    setEstado(\"\");\n    setCodigo_cliente(\"\");\n    setCodigo_peluquero(\"\");\n    setErrors({});\n    setEditar(false);\n    setTurnoSeleccionado(null);\n  };\n  const cambiarEstadoTurno = async (codigo_turno, nuevoEstado) => {\n    try {\n      console.log(\"Estado que se manda al backend: \", nuevoEstado);\n      const response = await axios.put(`${API_URL}/turnos/${codigo_turno}/estado`, {\n        estado: nuevoEstado\n      }, {\n        headers: {\n          'Content-Type': 'application/json',\n          \"Authorization\": `Bearer ${accessToken}`\n        }\n      });\n      const {\n        data\n      } = response.data;\n      // Actualizar el estado local\n      setTurnos(prev => prev.map(t => t.codigo_turno === data.codigo_turno ? {\n        ...t,\n        estado: data.estado\n      } : t));\n      console.log('Estado actualizado: ', data.estado);\n    } catch (error) {\n      console.error('Error al cambiar estado:', error.message);\n    }\n    ;\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 265,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"Error: \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 266,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid d-flex flex-column justify-content-center align-items-center vh-100\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card shadow-lg w-100\",\n      style: {\n        maxWidth: '1200px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header text-center bg-primary text-white\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Alta de Turnos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body d-flex flex-column\",\n        style: {\n          maxHeight: 'calc(100vh - 50px)',\n          overflow: 'hidden'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-container\",\n          style: {\n            padding: '20px',\n            boxSizing: 'border-box'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Fecha y hora:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"datetime-local\",\n                  onChange: event => setFecha_hora(event.target.value),\n                  className: \"form-control\",\n                  value: fecha_hora || \"\",\n                  placeholder: \"Ingrese la fecha y hora\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 37\n                }, this), errors.fecha_hora && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-danger\",\n                  children: errors.fecha_hora\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 59\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Tipo de Turno:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"form-select\",\n                  onChange: event => setTipo_turno(event.target.value),\n                  value: tipo_turno || \"\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Seleccione una opcion\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 299,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Sucursal\",\n                    children: \"Sucursal\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 300,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"A Domicilio\",\n                    children: \"A Domicilio\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 301,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 37\n                }, this), errors.tipo_turno && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-danger\",\n                  children: errors.tipo_turno\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 59\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Estado:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"form-select\",\n                  onChange: event => setEstado(event.target.value),\n                  value: estado || \"\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Seleccione una opcion\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 313,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Activo\",\n                    children: \"Activo\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 314,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Atendido\",\n                    children: \"Atendido\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Cancelado\",\n                    children: \"Cancelado\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Sancionado\",\n                    children: \"Sancionado\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 317,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 37\n                }, this), errors.estado && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-danger\",\n                  children: errors.estado\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 55\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Codigo de Cliente:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  onChange: event => setCodigo_cliente(event.target.value),\n                  className: \"form-control\",\n                  value: codigo_cliente || '',\n                  placeholder: \"Codigo de cliente\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 37\n                }, this), errors.codigo_cliente && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-danger\",\n                  children: errors.codigo_cliente\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 63\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-6\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"form-label\",\n                  children: \"Codigo de Peluquero:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  onChange: event => setCodigo_peluquero(event.target.value),\n                  className: \"form-control\",\n                  value: codigo_peluquero || '',\n                  placeholder: \"Codigo de peluquero\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 37\n                }, this), errors.codigo_peluquero && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-danger\",\n                  children: errors.codigo_peluquero\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 343,\n                  columnNumber: 65\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: editar ? /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"btn btn-warning m-2\",\n                  children: \"Actualizar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-secondary m-2\",\n                  onClick: () => {\n                    setEditar(false);\n                    resetForm();\n                  },\n                  children: \"Cancelar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 41\n              }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"btn btn-success\",\n                children: \"Registrar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-container\",\n          style: {\n            flex: 1,\n            overflowY: 'auto'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"table table-hover\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"table-primary sticky-top\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"C\\xF3digo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"Fecha\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  children: \"Tipo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  scope: \"col\",\n                  className: \"text-end\",\n                  style: {\n                    paddingRight: '100px'\n                  },\n                  children: \"Acciones\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: turnos.map(val => {\n                var _val$cliente, _val$peluquero, _val$servicio;\n                return /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: val.codigo_turno\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 374,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: formatFechaParaInput(val.fecha_hora)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 375,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: val.tipo_turno\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 376,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"d-flex justify-content-end gap-2\",\n                      children: [turnoMostrado === val.codigo_turno ? /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          children: [\"Porcentaje: \", val.porcentaje]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 381,\n                          columnNumber: 61\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          children: [\"Estado: \", val.estado]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 382,\n                          columnNumber: 61\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          children: [\"Cod. Cli.: \", ((_val$cliente = val.cliente) === null || _val$cliente === void 0 ? void 0 : _val$cliente.codigo_cliente) || 'N/A']\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 383,\n                          columnNumber: 61\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          children: [\"Cod. Pel.: \", ((_val$peluquero = val.peluquero) === null || _val$peluquero === void 0 ? void 0 : _val$peluquero.codigo_peluquero) || 'N/A']\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 384,\n                          columnNumber: 61\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          children: [\"Ser. Cod.: \", ((_val$servicio = val.servicio) === null || _val$servicio === void 0 ? void 0 : _val$servicio.codigo) || 'N/A']\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 385,\n                          columnNumber: 61\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"btn btn-secondary btn-sm\",\n                          onClick: () => setTurnoMostrado(null),\n                          children: \"Ocultar\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 386,\n                          columnNumber: 61\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 380,\n                        columnNumber: 57\n                      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"btn btn-primary btn-sm\",\n                        onClick: () => setTurnoMostrado(val.codigo_turno),\n                        children: \"Mostrar M\\xE1s\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 390,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"btn btn-primary btn-sm\",\n                        onClick: () => {\n                          setTurnoSeleccionado(val);\n                          setEditar(true);\n                        },\n                        children: \"Editar\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 392,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 378,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mt-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `badge bg-${estadoColor(val.estado)}`,\n                        children: [\"Estado actual: \", val.estado]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 395,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"d-flex flex-wrap gap-2 mt-2\",\n                        children: estados.filter(estado => estado !== val.estado).map(estado => /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: `btn btn-sm btn-outline-${estadoColor(estado)}`,\n                          onClick: () => cambiarEstadoTurno(val.codigo_turno, estado),\n                          children: [\"Marcar como \", estado]\n                        }, estado, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 402,\n                          columnNumber: 65\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 398,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 394,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 377,\n                    columnNumber: 45\n                  }, this)]\n                }, val.codigo_turno, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 41\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 13\n    }, this), alerta.mensaje && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `alert alert-${alerta.tipo} alert-dismissible fade show`,\n      role: \"alert\",\n      style: {\n        position: 'fixed',\n        bottom: '0',\n        width: '100%',\n        zIndex: 1050\n      },\n      children: [alerta.mensaje, /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn-close\",\n        onClick: () => setAlerta({\n          tipo: '',\n          mensaje: ''\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 269,\n    columnNumber: 9\n  }, this);\n}\n_s(TurnosPage, \"XwTrVGwI3ehLkHgu6Tou5LqCDmQ=\");\n_c = TurnosPage;\nexport default TurnosPage;\nvar _c;\n$RefreshReg$(_c, \"TurnosPage\");","map":{"version":3,"names":["React","useEffect","useState","axios","Swal","API_URL","jsxDEV","_jsxDEV","TurnosPage","_s","turnos","setTurnos","fecha_hora","setFecha_hora","tipo_turno","setTipo_turno","setPorcentaje","estado","setEstado","codigo_cliente","setCodigo_cliente","codigo_peluquero","setCodigo_peluquero","turnoMostrado","setTurnoMostrado","error","setError","errors","setErrors","loading","setLoading","turnoSeleccionado","setTurnoSeleccionado","editar","setEditar","alerta","setAlerta","tipo","mensaje","estados","accessToken","localStorage","getItem","fetchTurnos","response","get","headers","data","console","log","_error$response","_error$response$data","message","formatFechaParaInput","fechaISO","fecha","Date","anio","getFullYear","mes","String","getMonth","padStart","dia","getDate","horas","getHours","minutos","getMinutes","estadoColor","_turnoSeleccionado$cl","_turnoSeleccionado$pe","porcentaje","cliente","peluquero","getTurnos","Array","isArray","_error$response2","_error$response2$data","validateForm","today","toISOString","split","handleSubmit","e","preventDefault","validationErrors","Object","keys","length","formattedDate","payload","Number","put","codigo_turno","fire","position","icon","title","showConfirmButton","timer","post","resetForm","text","confirmButtonText","cambiarEstadoTurno","nuevoEstado","prev","map","t","children","fileName","_jsxFileName","lineNumber","columnNumber","className","style","maxWidth","maxHeight","overflow","padding","boxSizing","onSubmit","type","onChange","event","target","value","placeholder","onClick","flex","overflowY","scope","paddingRight","val","_val$cliente","_val$peluquero","_val$servicio","servicio","codigo","filter","role","bottom","width","zIndex","_c","$RefreshReg$"],"sources":["C:/Users/pferr/TrabajoPracticoPeluqueria/CRUDFrontend/client/src/pages/turno/Turno.page.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport axios from 'axios';\r\nimport Swal from 'sweetalert2';\r\nimport { API_URL } from '../../auth/constants.ts';\r\n\r\ntype Turno = {\r\n    codigo_turno: number;\r\n    fecha_hora: string;\r\n    tipo_turno: 'Sucursal' | 'A Domicilio';\r\n    estado: 'Activo' | 'Cancelado' | 'Sancionado' | 'Atendido';\r\n    porcentaje?: string;\r\n    cliente?: { codigo_cliente: number };\r\n    peluquero?: { codigo_peluquero: number };\r\n    servicio?: { codigo: number };\r\n};\r\n\r\ntype FormErrors = {\r\n    fecha_hora?: string;\r\n    tipo_turno?: string;\r\n    estado?: string;\r\n    codigo_cliente?: string;\r\n    codigo_peluquero?: string;\r\n};\r\n\r\ntype Alerta = {\r\n    tipo: string;\r\n    mensaje: string;\r\n};\r\n\r\nfunction TurnosPage(){\r\n    const [turnos, setTurnos] = useState<Turno[]>([]);\r\n    const [fecha_hora, setFecha_hora] = useState<string>('');\r\n    const [tipo_turno, setTipo_turno] = useState<'Sucursal' | 'A Domicilio' | ''>('');\r\n    const [/*porcentaje*/, setPorcentaje] = useState<string>('');\r\n    const [estado, setEstado] = useState<'Activo' | 'Cancelado' | 'Sancionado'|'Atendido' | ''>('');\r\n    const [codigo_cliente, setCodigo_cliente] = useState<string>('');\r\n    const [codigo_peluquero, setCodigo_peluquero] = useState<string>('');\r\n    const [turnoMostrado, setTurnoMostrado] = useState<number | null>(null);\r\n\r\n    const [error, setError] = useState<string>('');\r\n    const [errors, setErrors] = useState<FormErrors>({});\r\n    const [loading, setLoading] = useState<boolean>(false);\r\n    const [turnoSeleccionado, setTurnoSeleccionado] = useState<Turno | null>(null);\r\n    const [editar, setEditar] = useState<boolean>(false);\r\n    const [alerta, setAlerta] = useState<Alerta>({ tipo: '', mensaje: '' });\r\n\r\n    const estados = ['Cancelado', 'Activo', 'Sancionado', 'Atendido'];\r\n    const accessToken = localStorage.getItem('accessToken');\r\n\r\n    useEffect(() => {\r\n        const fetchTurnos = async () => {\r\n            setLoading(true);\r\n            try {\r\n                const response = await axios.get(`${API_URL}/turnos`, {\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        \"Authorization\": `Bearer ${accessToken}`\r\n                    }\r\n                });\r\n                const turnos = response.data.data || []\r\n                console.log('Turnos traidos del backend:',response, turnos);\r\n                setTurnos(turnos);\r\n            }catch(error:any){\r\n                setError(error.response?.data?.message || error.message);\r\n            }finally{\r\n                setLoading(false);\r\n            };\r\n        };\r\n        fetchTurnos();\r\n    }, [accessToken]);\r\n\r\n    const formatFechaParaInput = (fechaISO:string) => {\r\n        const fecha = new Date(fechaISO);\r\n        const anio = fecha.getFullYear();\r\n        const mes = String(fecha.getMonth() + 1).padStart(2, '0'); // Los meses son 0-indexed\r\n        const dia = String(fecha.getDate()).padStart(2, '0'); // Asegura que el día tenga dos dígitos\r\n        const horas = String(fecha.getHours()).padStart(2, '0'); // Asegura que las horas tengan dos dígitos\r\n        const minutos = String(fecha.getMinutes()).padStart(2, '0'); // Asegura que los minutos tengan dos dígitos\r\n        return `${anio}-${mes}-${dia}T${horas}:${minutos}`; // Retorna en formato aaaa-mm-dd T hh:mm\r\n    };\r\n\r\n    const estadoColor = (estado: string): string => {\r\n        switch (estado) {\r\n            case 'Cancelado': return 'warning';\r\n            case 'Activo': return 'primary';\r\n            case 'Sancionado': return 'danger';\r\n            case 'Atendido': return 'success';\r\n            default: return 'secondary';\r\n        };\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (turnoSeleccionado) {\r\n            setFecha_hora(turnoSeleccionado.fecha_hora ? formatFechaParaInput(turnoSeleccionado.fecha_hora): '');\r\n            setTipo_turno(turnoSeleccionado.tipo_turno || '');\r\n            setPorcentaje(turnoSeleccionado.porcentaje || '');\r\n            setEstado(turnoSeleccionado.estado || '');\r\n            setCodigo_cliente(String(turnoSeleccionado.cliente?.codigo_cliente) || '');\r\n            setCodigo_peluquero(String(turnoSeleccionado.peluquero?.codigo_peluquero) || '');\r\n        };\r\n    }, [turnoSeleccionado]);\r\n\r\n    const getTurnos = async () => {\r\n        try {\r\n            const response = await axios.get(`${API_URL}/turnos`, {\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    \"Authorization\": `Bearer ${accessToken}`\r\n                }\r\n            });\r\n            const turnos = response.data.data;\r\n            if (Array.isArray(turnos)) {\r\n                setTurnos(turnos);\r\n            };\r\n        }catch(error:any){\r\n            console.error('Error al obtener los turnos:', error);\r\n            setError(error.response?.data?.data|| error.mensaje);\r\n            setTurnos([]);\r\n        };\r\n    };\r\n\r\n    const validateForm = () => {\r\n        const errors:FormErrors = {};\r\n\r\n        const today = new Date().toISOString().split('T')[0];\r\n\r\n        if (!fecha_hora) {\r\n            errors.fecha_hora = \"La fecha es obligatoria.\";\r\n        } else if(fecha_hora < today){\r\n            errors.fecha_hora = \"La fecha no puede ser menor a la de hoy\";\r\n        };\r\n\r\n        if (!tipo_turno) {\r\n            errors.tipo_turno = \"El tipo es obligatorio.\";\r\n        } else if(tipo_turno !== \"Sucursal\" && tipo_turno !== \"A Domicilio\"){\r\n            errors.tipo_turno = \"Seleccione un tipo de turno.\";\r\n        };\r\n\r\n        if (!estado) {\r\n            errors.estado = \"El estado es obligatorio.\";\r\n        } else if(estado !== \"Activo\" && estado !== \"Cancelado\" && estado !==\"Sancionado\"){\r\n            errors.estado = \"Seleccione un estado.\";\r\n        };\r\n\r\n        if (!codigo_cliente) {\r\n            errors.codigo_cliente = \"El codigo de cliente es obligatorio.\";\r\n        };\r\n\r\n        if (!codigo_peluquero) {\r\n            errors.codigo_peluquero = \"El codigo de peluquero es obligatorio.\";\r\n        };\r\n        return errors;\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        const validationErrors = validateForm();\r\n        if (Object.keys(validationErrors).length > 0) {\r\n            setErrors(validationErrors);\r\n            return;\r\n        };\r\n        const formattedDate = new Date(fecha_hora).toISOString();\r\n        const payload = {\r\n            fecha_hora: formattedDate,\r\n            tipo_turno: tipo_turno,\r\n            estado: estado,\r\n            codigo_cliente: Number(codigo_cliente),\r\n            codigo_peluquero: Number(codigo_peluquero)\r\n        };\r\n        try {\r\n            if (editar && turnoSeleccionado) {\r\n                await axios.put(`${API_URL}/turnos/${turnoSeleccionado.codigo_turno}`, payload, {\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        \"Authorization\": `Bearer ${accessToken}`\r\n                    }\r\n                });\r\n                Swal.fire({\r\n                    position: 'center',\r\n                    icon: 'success',\r\n                    title: 'Actualización exitosa',\r\n                    showConfirmButton: false,\r\n                    timer: 1500\r\n                });\r\n            } else {\r\n                await axios.post(`${API_URL}/turnos`, payload, {\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        \"Authorization\": `Bearer ${accessToken}`\r\n                    }\r\n                });\r\n                Swal.fire({\r\n                    position: 'center',\r\n                    icon: 'success',\r\n                    title: 'Turno registrado',\r\n                    showConfirmButton: false,\r\n                    timer: 1500\r\n                });\r\n            };\r\n            await getTurnos();\r\n            resetForm();\r\n        }catch(error:any){\r\n            console.error('Error al guardar el turno:', error);\r\n            if (error.response && error.response.data && error.response.data.message) {\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Error',\r\n                    text: error.response.data.message,\r\n                    confirmButtonText: 'Aceptar',\r\n                    position: 'center'\r\n                });\r\n            } else {\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Error',\r\n                    text: 'Hubo un problema al guardar el turno.',\r\n                    confirmButtonText: 'Aceptar',\r\n                    position: 'center'\r\n                });\r\n            };\r\n        };\r\n    };\r\n\r\n    const resetForm = () => {\r\n        setFecha_hora(\"\");\r\n        setTipo_turno(\"\");\r\n        setPorcentaje(\"\")\r\n        setEstado(\"\");\r\n        setCodigo_cliente(\"\");\r\n        setCodigo_peluquero(\"\");\r\n        setErrors({});\r\n        setEditar(false);\r\n        setTurnoSeleccionado(null);\r\n    };\r\n\r\n    const cambiarEstadoTurno = async (codigo_turno: number, nuevoEstado: string) => {\r\n        try {\r\n            console.log(\"Estado que se manda al backend: \", nuevoEstado)\r\n            const response = await axios.put(`${API_URL}/turnos/${codigo_turno}/estado`, {\r\n                estado: nuevoEstado\r\n                },\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        \"Authorization\": `Bearer ${accessToken}`\r\n                    }\r\n                }\r\n            );\r\n            const { data } = response.data;\r\n            // Actualizar el estado local\r\n            setTurnos(prev =>\r\n                prev.map(t =>\r\n                    t.codigo_turno === data.codigo_turno\r\n                    ? { ...t, estado: data.estado }\r\n                    : t\r\n                )\r\n            );\r\n            console.log('Estado actualizado: ', data.estado);\r\n        } catch (error: any) {\r\n            console.error('Error al cambiar estado:', error.message);\r\n        };\r\n    }\r\n\r\n    if (loading) return <div>Loading...</div>;\r\n    if (error) return <div>Error: {error}</div>;\r\n\r\n    return (\r\n        <div className=\"container-fluid d-flex flex-column justify-content-center align-items-center vh-100\">\r\n            <div className=\"card shadow-lg w-100\" style={{ maxWidth: '1200px' }}>\r\n                <div className=\"card-header text-center bg-primary text-white\">\r\n                    <h3>Alta de Turnos</h3>\r\n                </div>\r\n    \r\n                <div className=\"card-body d-flex flex-column\" style={{ maxHeight: 'calc(100vh - 50px)', overflow: 'hidden' }}>\r\n                    <div className=\"form-container\" style={{ padding: '20px', boxSizing: 'border-box' }}>\r\n                        <form onSubmit={handleSubmit}>\r\n                            <div className=\"row mb-3\">\r\n\r\n                                <div className=\"col-md-6\">\r\n                                    <label className=\"form-label\">Fecha y hora:</label>\r\n                                    <input\r\n                                        type=\"datetime-local\"\r\n                                        onChange={(event) => setFecha_hora(event.target.value)}\r\n                                        className=\"form-control\"\r\n                                        value={fecha_hora || \"\"}\r\n                                        placeholder=\"Ingrese la fecha y hora\"\r\n                                    />\r\n                                    {errors.fecha_hora && <div className=\"text-danger\">{errors.fecha_hora}</div>}\r\n                                </div>\r\n\r\n                                <div className=\"col-md-6\">\r\n                                    <label className=\"form-label\">Tipo de Turno:</label>\r\n                                    <select\r\n                                        className=\"form-select\"\r\n                                        onChange={(event) => setTipo_turno(event.target.value as \"\" | \"Sucursal\" | \"A Domicilio\")}\r\n                                        value={tipo_turno || \"\"}\r\n                                    >\r\n                                        <option value=\"\">Seleccione una opcion</option>\r\n                                        <option value=\"Sucursal\">Sucursal</option>\r\n                                        <option value=\"A Domicilio\">A Domicilio</option>\r\n                                    </select>\r\n                                    {errors.tipo_turno && <div className=\"text-danger\">{errors.tipo_turno}</div>}\r\n                                </div>\r\n                                \r\n                                <div className=\"col-md-6\">\r\n                                    <label className=\"form-label\">Estado:</label>\r\n                                    <select\r\n                                        className=\"form-select\"\r\n                                        onChange={(event) => setEstado(event.target.value as \"\" | 'Activo' | 'Cancelado' | 'Sancionado' | 'Atendido')}\r\n                                        value={estado || \"\"}\r\n                                    >\r\n                                        <option value=\"\">Seleccione una opcion</option>\r\n                                        <option value=\"Activo\">Activo</option>\r\n                                        <option value=\"Atendido\">Atendido</option>\r\n                                        <option value=\"Cancelado\">Cancelado</option>\r\n                                        <option value=\"Sancionado\">Sancionado</option>\r\n                                    </select>\r\n                                    {errors.estado && <div className=\"text-danger\">{errors.estado}</div>}\r\n                                </div>\r\n\r\n                                <div className=\"col-md-6\">\r\n                                    <label className=\"form-label\">Codigo de Cliente:</label>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        onChange={(event) => setCodigo_cliente(event.target.value)}\r\n                                        className=\"form-control\"\r\n                                        value={codigo_cliente || ''}\r\n                                        placeholder=\"Codigo de cliente\"\r\n                                    />\r\n                                    {errors.codigo_cliente && <div className=\"text-danger\">{errors.codigo_cliente}</div>}\r\n                                </div>\r\n\r\n                                <div className=\"col-md-6\">\r\n                                    <label className=\"form-label\">Codigo de Peluquero:</label>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        onChange={(event) => setCodigo_peluquero(event.target.value)}\r\n                                        className=\"form-control\"\r\n                                        value={codigo_peluquero || ''}\r\n                                        placeholder=\"Codigo de peluquero\"\r\n                                    />\r\n                                    {errors.codigo_peluquero && <div className=\"text-danger\">{errors.codigo_peluquero}</div>}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"text-center\">\r\n                                {\r\n                                    editar ?\r\n                                        <div>\r\n                                            <button type=\"submit\" className='btn btn-warning m-2'>Actualizar</button>\r\n                                            <button type=\"button\" className='btn btn-secondary m-2' onClick={() => {setEditar(false); resetForm();}}>Cancelar</button>\r\n                                        </div>\r\n                                        :\r\n                                        <button type=\"submit\" className='btn btn-success'>Registrar</button>\r\n                                }\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n    \r\n                    <div className=\"table-container\" style={{ flex: 1, overflowY: 'auto'}}>\r\n                        <table className=\"table table-hover\">\r\n                            <thead className=\"table-primary sticky-top\">\r\n                                <tr>\r\n                                    <th scope=\"col\">Código</th>\r\n                                    <th scope=\"col\">Fecha</th>\r\n                                    <th scope=\"col\">Tipo</th>\r\n                                    <th scope=\"col\" className=\"text-end\" style={{ paddingRight: '100px' }}>Acciones</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                { turnos.map(val => (\r\n                                        <tr key={val.codigo_turno}>\r\n                                            <th>{val.codigo_turno}</th>\r\n                                            <td>{formatFechaParaInput(val.fecha_hora)}</td>\r\n                                            <td>{val.tipo_turno}</td>\r\n                                            <td>\r\n                                                <div className=\"d-flex justify-content-end gap-2\">\r\n                                                    {turnoMostrado === val.codigo_turno ? (\r\n                                                        <div>\r\n                                                            <p>Porcentaje: {val.porcentaje}</p>\r\n                                                            <p>Estado: {val.estado}</p>\r\n                                                            <p>Cod. Cli.: {val.cliente?.codigo_cliente || 'N/A'}</p>\r\n                                                            <p>Cod. Pel.: {val.peluquero?.codigo_peluquero || 'N/A'}</p>\r\n                                                            <p>Ser. Cod.: {val.servicio?.codigo || 'N/A'}</p>\r\n                                                            <button className=\"btn btn-secondary btn-sm\" onClick={() => setTurnoMostrado(null)}>Ocultar</button>\r\n                                                        </div>\r\n\r\n                                                    ) : (\r\n                                                        <button className=\"btn btn-primary btn-sm\" onClick={() => setTurnoMostrado(val.codigo_turno)}>Mostrar Más</button>\r\n                                                    )}\r\n                                                    <button className=\"btn btn-primary btn-sm\" onClick={() => { setTurnoSeleccionado(val); setEditar(true); }}>Editar</button>\r\n                                                </div>\r\n                                                <div className=\"mt-2\">\r\n                                                    <span className={`badge bg-${estadoColor(val.estado)}`}>\r\n                                                        Estado actual: {val.estado}\r\n                                                    </span>\r\n                                                    <div className=\"d-flex flex-wrap gap-2 mt-2\">\r\n                                                        {estados\r\n                                                            .filter((estado) => estado !== val.estado)\r\n                                                            .map((estado) => (\r\n                                                                <button\r\n                                                                    key={estado}\r\n                                                                    className={`btn btn-sm btn-outline-${estadoColor(estado)}`}\r\n                                                                    onClick={() => cambiarEstadoTurno(val.codigo_turno, estado)}\r\n                                                                >\r\n                                                                    Marcar como {estado}\r\n                                                                </button>\r\n                                                            ))}\r\n                                                    </div>\r\n                                                </div>\r\n                                            </td>\r\n                                        </tr>\r\n                                    ))\r\n                                }\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n    \r\n            {alerta.mensaje && (\r\n            <div className={`alert alert-${alerta.tipo} alert-dismissible fade show`} role=\"alert\" style={{ position: 'fixed', bottom: '0', width: '100%', zIndex: 1050 }}>\r\n                {alerta.mensaje}\r\n                <button type=\"button\" className=\"btn-close\" onClick={() => setAlerta({ tipo: '', mensaje: '' })}></button>\r\n            </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\nexport default TurnosPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}